<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Model generation: src/GenerateModel.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script src="http://www.mathjax.org/mathjax/MathJax.js">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="transitlogo.png"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Model generation&#160;<span id="projectnumber">0.5</span></div>
   <div id="projectbrief">Generating synthetic transit lightcurves</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>src/GenerateModel.cpp File Reference</h1>  </div>
</div>
<div class="contents">

<p><a class="el" href="struct_model.html" title="Class holding the state of the system.">Model</a> generation code.  
<a href="#_details">More...</a></p>
<div class="textblock"><code>#include &quot;GenerateModel.h&quot;</code><br/>
<code>#include &lt;cmath&gt;</code><br/>
<code>#include &lt;iostream&gt;</code><br/>
<code>#include &lt;vector&gt;</code><br/>
<code>#include &lt;algorithm&gt;</code><br/>
<code>#include &quot;Model.h&quot;</code><br/>
<code>#include &quot;constants.h&quot;</code><br/>
</div>
<p><a href="_generate_model_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02_generate_model_8cpp_03.html">anonymous_namespace{GenerateModel.cpp}</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02_generate_model_8cpp_03.html#a69da40f864acfd9c1ddd7f5db4269f50">anonymous_namespace{GenerateModel.cpp}::calcOmega</a> (const vector&lt; double &gt; &amp;coeffs)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">\(\Omega\) calculator  <a href="#a69da40f864acfd9c1ddd7f5db4269f50"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">double&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02_generate_model_8cpp_03.html#a4a2249f2dca60f8b089f49900273e4df">anonymous_namespace{GenerateModel.cpp}::square</a> (T val)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Square function.  <a href="#a4a2249f2dca60f8b089f49900273e4df"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02_generate_model_8cpp_03.html#a6b36a99e72016f594b75c73624fe62f1">anonymous_namespace{GenerateModel.cpp}::I</a> (double r, double c1, double c2, double c3, double c4)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Intensity at position r.  <a href="#a6b36a99e72016f594b75c73624fe62f1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02_generate_model_8cpp_03.html#a6e87455ba96b310dd7e480a6ea86e10b">anonymous_namespace{GenerateModel.cpp}::I</a> (double r, const std::vector&lt; double &gt; &amp;coeffs)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Intensity at position r.  <a href="#a6e87455ba96b310dd7e480a6ea86e10b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02_generate_model_8cpp_03.html#a4f10298cdce44be90967464a1ccb6644">anonymous_namespace{GenerateModel.cpp}::IntegratedI</a> (double dr, double c1, double c2, double c3, double c4, double rlow, double rhigh)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Integrates the intensity in a given range.  <a href="#a4f10298cdce44be90967464a1ccb6644"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02_generate_model_8cpp_03.html#aba84809606a6d040ab5e75e32faff089">anonymous_namespace{GenerateModel.cpp}::IntegratedI</a> (double dr, const std::vector&lt; double &gt; &amp;coeffs, double rlow, double rhigh)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Integrates the intensity in a given range.  <a href="#aba84809606a6d040ab5e75e32faff089"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_generate_model_8cpp.html#a8fa49227f33a7691948269d2541f31a5">GenerateSynthetic</a> (const vector&lt; double &gt; &amp;jd, const <a class="el" href="struct_model.html">Model</a> &amp;m)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates a synthetic lightcurve.  <a href="#a8fa49227f33a7691948269d2541f31a5"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="struct_model.html" title="Class holding the state of the system.">Model</a> generation code. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Simon Walker</dd></dl>
<p>Contains some utility functions (in the anonymous namespace) which facilitate the calculation of a synthetic lightcurve, and the master function GenerateSynthetic which is accessible to the user of the library. </p>

<p>Definition in file <a class="el" href="_generate_model_8cpp_source.html">GenerateModel.cpp</a>.</p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a8fa49227f33a7691948269d2541f31a5"></a><!-- doxytag: member="GenerateModel.cpp::GenerateSynthetic" ref="a8fa49227f33a7691948269d2541f31a5" args="(const vector&lt; double &gt; &amp;jd, const Model &amp;m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;double&gt; GenerateSynthetic </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>jd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_model.html">Model</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calculates a synthetic lightcurve. </p>
<p>Uses equation 8 from Mandel &amp; Agol, 2002 to generate a normalised lightcurve</p>
<p class="formulaDsp">
\[ F = 1 - \frac{I^{*}(z)}{4\Omega}\left[p^2 \arccos \left(\frac{z-1}{p} - (z-1) \sqrt{p^2 - (z-1)^2}\right)\right] \]
</p>
<p>where \(I^{*}(z) = (1-a)^{-1} \int_{z-p}^{1}I(r)2rdr\). \(p = r_{p} / r_{s}2\) and \(z\) is the normalised distance between the stellar and planetary centres. The function returns the flux values associated with the time information given normalised so that the out of transit data is unity.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jd</td><td>Time units (JD) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td><a class="el" href="struct_model.html" title="Class holding the state of the system.">Model</a> object </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Flux values normalised around unity </dd></dl>

<p>Definition at line <a class="el" href="_generate_model_8cpp_source.html#l00167">167</a> of file <a class="el" href="_generate_model_8cpp_source.html">GenerateModel.cpp</a>.</p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Fri Nov 4 2011 17:19:26 for Model generation by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
